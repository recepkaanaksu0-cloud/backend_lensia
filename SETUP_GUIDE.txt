â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                â•‘
â•‘     LENSIA.AI - COMFYUI BACKEND DASHBOARD                     â•‘
â•‘     Proje Kurulum ve KullanÄ±m KÄ±lavuzu                        â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Tarih: 3 Ekim 2025
ğŸ¯ AmaÃ§: www.lensia.ai'den gelen istekleri iÅŸleme ve geri gÃ¶nderme
ğŸŒ Public URL: https://api.lensia.ai
ğŸ”Œ Local Port: 51511

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… TAMAMLANAN GÃœNCELLEMELER

1. âš™ï¸  Port YapÄ±landÄ±rmasÄ±
   âœ“ Port 3000 â†’ 51511'e deÄŸiÅŸtirildi
   âœ“ Cloudflare Tunnel yapÄ±landÄ±rmasÄ± gÃ¼ncellendi
   âœ“ api.lensia.ai â†’ localhost:51511

2. ğŸ”— Lensia.ai Entegrasyonu
   âœ“ Webhook sistemi eklendi
   âœ“ API key doÄŸrulama
   âœ“ Job tracking (lensiaJobId)
   âœ“ Otomatik sonuÃ§ gÃ¶nderimi

3. ğŸ—„ï¸  VeritabanÄ± GÃ¼ncellemeleri
   âœ“ lensiaJobId alanÄ± eklendi
   âœ“ webhookUrl alanÄ± eklendi
   âœ“ webhookSent ve webhookSentAt alanlarÄ±
   âœ“ Migration: 20251003120731_add_lensia_integration

4. ğŸ“¡ API Endpoints GÃ¼ncellendi
   âœ“ POST /api/jobs - Lensia.ai'den istek kabul eder
   âœ“ X-API-Key header kontrolÃ¼ eklendi
   âœ“ Otomatik webhook gÃ¶nderimi

5. ğŸš€ Otomasyon Scriptleri
   âœ“ start-comfyui.sh - ComfyUI otomatik baÅŸlatÄ±cÄ±
   âœ“ tunnel.sh - Cloudflare Tunnel yÃ¶netici
   âœ“ start.sh - Ana baÅŸlatma scripti gÃ¼ncelll endi

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ—ï¸  SÄ°STEM MÄ°MARÄ°SÄ°

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. www.lensia.ai (Ana Site - KullanÄ±cÄ± Ä°stekleri)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP POST
                         â”‚ /api/jobs
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. api.lensia.ai:51511 (Bu Dashboard)                      â”‚
â”‚     - Cloudflare Tunnel ile eriÅŸilebilir                    â”‚
â”‚     - Ä°stekleri alÄ±r ve veritabanÄ±na kaydeder               â”‚
â”‚     - OperatÃ¶r iÅŸleri dashboard'dan yÃ¶netir                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ OperatÃ¶r "Ä°ÅŸle" butonuna basar
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. localhost:8188 (ComfyUI Sunucusu)                       â”‚
â”‚     - Yerel makinede Ã§alÄ±ÅŸan ComfyUI                        â”‚
â”‚     - GÃ¶rÃ¼ntÃ¼ iÅŸleme ve AI Ã¼retimi                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Ä°ÅŸlem tamamlandÄ±
                         â”‚ SonuÃ§ gÃ¶rÃ¼ntÃ¼
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Dashboard â†’ Webhook GÃ¶nderimi                           â”‚
â”‚     POST https://www.lensia.ai/api/jobs/webhook             â”‚
â”‚     {status, output_image_url, job_id}                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. www.lensia.ai (SonuÃ§ AlÄ±mÄ±)                             â”‚
â”‚     - Webhook'u alÄ±r                                        â”‚
â”‚     - KullanÄ±cÄ±ya sonucu gÃ¶sterir                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ BAÅLATMA TALÄ°MATLARI

ADIM 1: Cloudflare Tunnel'Ä± BaÅŸlat
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Cloudflare Tunnel zaten yapÄ±landÄ±rÄ±lmÄ±ÅŸ:
/etc/cloudflared/config.yml

BaÅŸlatma:
  sudo systemctl start cloudflared

Kontrol:
  sudo systemctl status cloudflared
  
Loglar:
  sudo journalctl -u cloudflared -f

Otomatik baÅŸlatma:
  sudo systemctl enable cloudflared

âœ… BaÅŸarÄ±lÄ± ise: https://api.lensia.ai eriÅŸilebilir olacak


ADIM 2: ComfyUI'Ä± BaÅŸlat
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Otomatik:
  npm run comfyui

Manuel:
  cd /path/to/ComfyUI
  python main.py --listen 127.0.0.1 --port 8188

Kontrol:
  curl http://127.0.0.1:8188/system_stats

âœ… BaÅŸarÄ±lÄ± ise: JSON response dÃ¶ner


ADIM 3: Dashboard'u BaÅŸlat
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Otomatik (Ã¶nerilen):
  ./start.sh

Manuel:
  npm run dev

EriÅŸim:
  Local:  http://localhost:51511
  Public: https://api.lensia.ai

âœ… BaÅŸarÄ±lÄ± ise: Dashboard arayÃ¼zÃ¼ aÃ§Ä±lÄ±r

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¡ LENSIA.AI ENTEGRASYONU

1. Ä°ÅŸ GÃ¶nderme (Lensia.ai â†’ Dashboard)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST https://api.lensia.ai/api/jobs
Content-Type: application/json
X-API-Key: your-api-key-here

{
  "job_id": "lensia_12345",
  "prompt": "A beautiful sunset over mountains",
  "negative_prompt": "ugly, blurry, low quality",
  "input_image_url": "https://lensia.ai/uploads/input.jpg",
  "webhook_url": "https://www.lensia.ai/api/jobs/webhook",
  "params": {
    "steps": 20,
    "cfg": 7,
    "sampler": "euler"
  }
}

Response:
{
  "id": "clxxx...",
  "status": "pending",
  "lensiaJobId": "lensia_12345",
  "createdAt": "2025-10-03T..."
}


2. Ä°ÅŸ Ä°ÅŸleme (Dashboard â†’ ComfyUI)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OperatÃ¶r dashboard'a gider:
  https://api.lensia.ai (veya http://localhost:51511)

Ä°ÅŸleri gÃ¶rÃ¼r ve "Ä°ÅŸle" butonuna basar:
  - Job status: pending â†’ processing
  - ComfyUI'a gÃ¶nderilir
  - GÃ¶rÃ¼ntÃ¼ Ã¼retilir
  - Job status: processing â†’ completed


3. SonuÃ§ GÃ¶nderme (Dashboard â†’ Lensia.ai)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Otomatik olarak webhook gÃ¶nderilir:

POST https://www.lensia.ai/api/jobs/webhook
Content-Type: application/json
X-API-Key: your-api-key-here

{
  "job_id": "lensia_12345",
  "status": "completed",
  "output_image_url": "http://127.0.0.1:8188/view?filename=...",
  "processed_at": "2025-10-03T12:00:00Z"
}

Hata durumunda:
{
  "job_id": "lensia_12345",
  "status": "error",
  "error_message": "ComfyUI baÄŸlantÄ± hatasÄ±",
  "processed_at": "2025-10-03T12:00:00Z"
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš™ï¸  YAPILANDIRMA

.env.local DosyasÄ±:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Database
DATABASE_URL="file:./dev.db"

# Server Configuration
PORT=51511
NEXT_PUBLIC_API_URL="https://api.lensia.ai"

# ComfyUI API Configuration
COMFYUI_API_URL="http://127.0.0.1:8188"

# Lensia.ai Main Site Configuration
LENSIA_MAIN_SITE_URL="https://www.lensia.ai"
LENSIA_WEBHOOK_URL="https://www.lensia.ai/api/jobs/webhook"
LENSIA_API_KEY="**GÃœVENLÄ°-BÄ°R-API-KEY-BURAYA**"

âš ï¸  Ã–NEMLÄ°: LENSIA_API_KEY'i gÃ¼venli bir deÄŸerle deÄŸiÅŸtirin!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TEST

1. Manuel Test Ä°ÅŸi Ekleme:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST https://api.lensia.ai/api/jobs \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your-api-key" \
  -d '{
    "job_id": "test_001",
    "prompt": "A futuristic city with flying cars",
    "input_image_url": "https://picsum.photos/512",
    "webhook_url": "https://webhook.site/unique-id",
    "params": {"steps": 20}
  }'


2. Dashboard'dan Ä°ÅŸ GÃ¶rÃ¼ntÃ¼leme:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TarayÄ±cÄ±da aÃ§: https://api.lensia.ai
- Bekleyen iÅŸleri gÃ¶receksiniz
- "Ä°ÅŸle" butonuna basÄ±n
- Ä°ÅŸlem durumunu takip edin


3. Webhook Test:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Webhook'larÄ± test etmek iÃ§in:
  https://webhook.site

Webhook URL'ini webhook.site'dan alÄ±n ve istek atarken kullanÄ±n.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ› ï¸  YÃ–NETÄ°M KOMUTLARI

Dashboard:
  npm run dev             # Development server (port 51511)
  npm run build           # Production build
  npm run start           # Production server

ComfyUI:
  npm run comfyui         # ComfyUI otomatik baÅŸlatÄ±cÄ±
  COMFYUI_DIR=/path npm run comfyui  # Ã–zel dizin

Cloudflare Tunnel:
  npm run tunnel:start    # systemctl start cloudflared
  npm run tunnel:stop     # systemctl stop cloudflared
  npm run tunnel:status   # systemctl status cloudflared

VeritabanÄ±:
  npm run db:studio       # Prisma Studio GUI
  npm run db:migrate      # Yeni migration
  npm run db:generate     # Prisma client oluÅŸtur

Loglar:
  sudo journalctl -u cloudflared -f    # Tunnel loglarÄ±
  tail -f logs/dashboard.log           # Dashboard loglarÄ±

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ SORUN GÄ°DERME

Problem: Cloudflare Tunnel baÄŸlanamÄ±yor
Ã‡Ã¶zÃ¼m:
  sudo systemctl restart cloudflared
  sudo journalctl -u cloudflared -f
  # Config dosyasÄ±nÄ± kontrol et: /etc/cloudflared/config.yml

Problem: ComfyUI baÄŸlantÄ± hatasÄ±
Ã‡Ã¶zÃ¼m:
  curl http://127.0.0.1:8188/system_stats
  # ComfyUI'Ä±n Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun
  cd /path/to/ComfyUI && python main.py

Problem: Webhook gÃ¶nderilmiyor
Ã‡Ã¶zÃ¼m:
  # .env.local kontrol et
  # LENSIA_WEBHOOK_URL doÄŸru mu?
  # LENSIA_API_KEY ayarlandÄ± mÄ±?
  # VeritabanÄ±nda webhookSent kontrol et
  npm run db:studio

Problem: Port 51511 kullanÄ±mda
Ã‡Ã¶zÃ¼m:
  lsof -i :51511
  kill -9 <PID>

Problem: Ä°ÅŸler gÃ¶rÃ¼nmÃ¼yor
Ã‡Ã¶zÃ¼m:
  # VeritabanÄ±nÄ± kontrol et
  npm run db:studio
  # Migration kontrol et
  npx prisma migrate status

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š VERÄ°TABANI YAPISI

Job Tablosu:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
id              String    (Unique ID)
status          String    (pending|processing|completed|sent|error)
prompt          String    (KullanÄ±cÄ± prompt'u)
negativePrompt  String?   (Negative prompt)
inputImageUrl   String    (GiriÅŸ gÃ¶rÃ¼ntÃ¼sÃ¼ URL)
outputImageUrl  String?   (SonuÃ§ gÃ¶rÃ¼ntÃ¼sÃ¼ URL)
paramsJson      String    (Ekstra parametreler JSON)
errorMessage    String?   (Hata mesajÄ±)

lensiaJobId     String?   (Lensia.ai'den gelen job ID) â† YENÄ°
webhookUrl      String?   (Webhook gÃ¶nderileceÄŸ URL)   â† YENÄ°
webhookSent     Boolean   (Webhook gÃ¶nderildi mi?)     â† YENÄ°
webhookSentAt   DateTime? (Webhook gÃ¶nderilme zamanÄ±)  â† YENÄ°

createdAt       DateTime
updatedAt       DateTime

Durum AkÄ±ÅŸÄ±:
  pending â†’ processing â†’ completed â†’ sent
                      â†“
                    error

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ Ã–NEMLÄ° DOSYALAR

YapÄ±landÄ±rma:
  .env.local                          # Environment variables
  /etc/cloudflared/config.yml         # Tunnel config
  prisma/schema.prisma                # Database schema

API Endpoints:
  app/api/jobs/route.ts               # POST, GET /api/jobs
  app/api/jobs/[id]/route.ts          # GET, DELETE
  app/api/jobs/[id]/process/route.ts  # POST iÅŸleme

Core Logic:
  lib/comfyui.ts                      # ComfyUI entegrasyonu
  lib/webhook.ts                      # Webhook helper
  lib/prisma.ts                       # Database client

Frontend:
  app/page.tsx                        # Ana dashboard
  app/_components/job-table.tsx       # Ä°ÅŸ tablosu

Scripts:
  start.sh                            # Ana baÅŸlatma
  scripts/start-comfyui.sh            # ComfyUI baÅŸlatÄ±cÄ±
  scripts/tunnel.sh                   # Tunnel yÃ¶netici

DokÃ¼mantasyon:
  API_DOCUMENTATION.md                # API referansÄ±
  README.md                           # Genel dÃ¶kÃ¼mantasyon
  QUICKSTART.md                       # HÄ±zlÄ± baÅŸlangÄ±Ã§

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… KONTROL LÄ°STESÄ°

Kurulum:
  [âœ“] BaÄŸÄ±mlÄ±lÄ±klar yÃ¼klendi (npm install)
  [âœ“] Prisma client oluÅŸturuldu
  [âœ“] VeritabanÄ± migration yapÄ±ldÄ±
  [âœ“] .env.local dosyasÄ± yapÄ±landÄ±rÄ±ldÄ±

Servisler:
  [ ] Cloudflare Tunnel Ã§alÄ±ÅŸÄ±yor
  [ ] ComfyUI Ã§alÄ±ÅŸÄ±yor (port 8188)
  [ ] Dashboard Ã§alÄ±ÅŸÄ±yor (port 51511)
  [ ] https://api.lensia.ai eriÅŸilebilir

Entegrasyon:
  [ ] LENSIA_API_KEY ayarlandÄ±
  [ ] LENSIA_WEBHOOK_URL doÄŸru
  [ ] Test iÅŸ oluÅŸturuldu
  [ ] Ä°ÅŸ baÅŸarÄ±yla iÅŸlendi
  [ ] Webhook baÅŸarÄ±yla gÃ¶nderildi

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ SONRAKÄ° ADIMLAR

1. [âœ“] Cloudflare Tunnel'Ä± baÅŸlat
      sudo systemctl start cloudflared

2. [âœ“] ComfyUI'Ä± baÅŸlat
      npm run comfyui

3. [âœ“] Dashboard'u baÅŸlat
      ./start.sh

4. [ ] API Key'i gÃ¼venli bir deÄŸerle gÃ¼ncelle
      .env.local â†’ LENSIA_API_KEY

5. [ ] Lensia.ai'ye entegrasyon testleri yap

6. [ ] ComfyUI workflow'unu Ã¶zelleÅŸtir
      lib/comfyui.ts â†’ createWorkflow()

7. [ ] Production'a deploy
      npm run build && npm start

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ PROJE DURUMU: HAZIR!

TÃ¼m gÃ¼ncellemeler tamamlandÄ± ve sistem kullanÄ±ma hazÄ±r.

Sorular ve destek iÃ§in:
  ğŸ“– API_DOCUMENTATION.md
  ğŸ“– README.md
  ğŸ“– QUICKSTART.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BaÅŸarÄ±lar! ğŸš€
